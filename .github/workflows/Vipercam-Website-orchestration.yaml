name: Vipercam Website Orchestration

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]
  workflow_dispatch:
  # IONOS Deploy Now bot trigger
  repository_dispatch:
    types: [ionos-deploy]

jobs:
  build:
    uses: ./.github/workflows/ionos-deploy.yml
    secrets:
      IONOS_SERVICE_HOST: ${{ secrets.IONOS_SERVICE_HOST }}
      IONOS_API_KEY: ${{ secrets.IONOS_API_KEY }}
      IONOS_PROJECT_ID: ${{ secrets.IONOS_PROJECT_ID }}
      IONOS_BRANCH_ID: ${{ secrets.IONOS_BRANCH_ID }}
